From 240c92c48daf917552925ec2a19dcfb2795a5429 Mon Sep 17 00:00:00 2001
From: yannicklm <yannicklm1337@gmail.com>
Date: Sun, 7 Apr 2013 14:32:46 +0200
Subject: [PATCH] Fix annoying "invalid expression" error

Not sure why this happens
---
 plugin/vimbuddy.vim | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/plugin/vimbuddy.vim b/plugin/vimbuddy.vim
index c3faab0..d204dc4 100644
--- a/plugin/vimbuddy.vim
+++ b/plugin/vimbuddy.vim
@@ -20,7 +20,7 @@ function! VimBuddy()
         let s:vimbuddy_onemore = ""
     endif
 
-    if g:actual_curbuf != bufnr("%")
+    if exists("g:actual_curbuf") && (g:actual_curbuf != bufnr("%"))
         " Not my buffer, sleeping
         return "|-o"
     elseif s:vimbuddy_err != v:errmsg
-- 
1.8.2

