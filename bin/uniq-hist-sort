#!/usr/bin/env python3

"""
Remove duplicates in stdin while preserving order (most recent first)

Used by fzf history widget
"""

import sys


def main():
    to_sort = sys.stdin.read().splitlines()
    seen = set()
    to_sort.reverse()
    out = list()
    for line in to_sort:
        if line in seen:
            continue
        out.append(line)
        seen.add(line)
    for line in reversed(out):
        print(line)


if __name__ == "__main__":
    main()
